"use strict";function htmlDecode(e){return null!=e&&(e=e.replace(/&amp;/gi,"&"),e=e.replace(/&quot;/gi,'"'),e=e.replace(/&#039;/gi,"'"),e=e.replace(/&lt;/gi,"<"),e=e.replace(/&gt;/gi,">")),e}angular.module("Authentication",[]),angular.module("Common",[]),angular.module("Home",[]),angular.module("DynamicMenu",[]),angular.module("ServerHealthCheck",[]),angular.module("Myproject",["Common","Authentication","rzModule","Home","ServerHealthCheck","ngRoute","ngCookies","DynamicMenu","ngAnimate","ngSanitize","ui.bootstrap","localytics.directives","FBAngular","angularUtils.directives.dirPagination"]).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|mailto|file|javascript):/)}]).config(["$routeProvider","$locationProvider","constants",function(e,t,o){e.when("/login/:id?",{controller:"LoginController",templateUrl:function(e){return"modules/authentication/views/login"+(e.id?e.id:"")+o.htmlFileToUse+".html"},css:"css/login.css",hideMenus:!0}).when("/signup/:token",{controller:"LoginController",templateUrl:"modules/authentication/views/signup"+o.htmlFileToUse+".html",hideMenus:!0}).when("/editprofile",{controller:"EditProfileController",templateUrl:"modules/home/views/editprofile"+o.htmlFileToUse+".html",hideMenus:!0}).when("/viewprofile/:id?",{controller:"EditProfileController",templateUrl:"modules/home/views/viewprofile"+o.htmlFileToUse+".html",hideMenus:!0}).when("/profileimg",{controller:"EditProfileController",templateUrl:"modules/home/views/profileimg"+o.htmlFileToUse+".html",hideMenus:!0}).when("/reset/:user?",{controller:"LoginController",templateUrl:"modules/authentication/views/reset"+o.htmlFileToUse+".html",hideMenus:!0}).when("/forgetpassword",{controller:"LoginController",templateUrl:"modules/authentication/views/forgetpassword"+o.htmlFileToUse+".html",hideMenus:!0}).when("/",{controller:"HomeController",templateUrl:"modules/home/views/home"+o.htmlFileToUse+".html",resolve:{init:function(){return function(e){e.currenttab="home"}}}}).when("/unauthorize",{templateUrl:"modules/templates/unauthorized"+o.htmlFileToUse+".html"}).when("/maintenance",{templateUrl:"modules/templates/maintenance"+o.htmlFileToUse+".html"}).when("/healthcheck",{templateUrl:"modules/health-check/views/serverhealthcheck"+o.htmlFileToUse+".html",controller:"ServerHealthCheckController"}).otherwise({redirectTo:"/login"}),t.html5Mode(!1).hashPrefix("app")}]).run(["$rootScope","$location","$http","AuthenticationService","$notification","$timeout","constants","storage","$animate",function(e,t,o,n,r,a,i,s,c){e.routeLoader=!0,e.htmlFileToUse=i.htmlFileToUse,e.$on("$locationChangeSuccess",function(){a(function(){e.routeLoader=!1},200)}),e.$on("$locationChangeStart",function(r,a,i){e.routeLoader=!0,c.enabled(!1),e.globals=JSON.parse(s.getSessionValue("globals")),e.globals.currentUser&&(e.globals.currentUser.token=s.getCookieValue("token")),e.globals.currentUser&&(e.globals.currentUser.is_eulaaccepted&&e.globals.currentUser.token||(n.saveAttemptUrl(),e.routeLoader=!1,t.path("/login")),o.defaults.headers.common.Authorization="Basic "+e.globals.currentUser.authdata,o.defaults.headers.common["x-access-token"]=e.globals.currentUser.token);var l=t.path(),u=l.indexOf("/signup"),d=l.indexOf("/reset");-1!=l.indexOf("/unsubscribe")||-1!=l.indexOf("/healthcheck")||-1!=l.indexOf("/login")||"/forgetpassword"===l||-1!=u||-1!=d||e.globals.currentUser||(n.saveAttemptUrl(),e.routeLoader=!1,t.path("/login"))})}]).filter("orderByNumber",function(){return function(e,t,o){var n=[];return angular.forEach(e,function(e){n.push(e)}),n.sort(function(e,o){return e[t]>o[t]?1:-1}),o&&n.reverse(),n}}).filter("cmtoftinch",function(){return function(e){var t=(.393700787*e).toFixed(0),o=Math.floor(t/12);return t%=12,o+"ft "+t+"inches"}}).filter("ftinchtocm",function(){return function(e,t){return parseInt(30.48*e+2.54*t)}}).filter("dateFilter",function(){return function(e){if(!angular.isDefined(e)||null==e||""==e||e.indexOf("0000")>=0)return"-";var t=e.split("T"),o=e.split("/");return 1==t.length||o.length>1?e:(t=t[0].split("-"),t[1]+"/"+t[2]+"/"+t[0])}}).filter("highlight",["$sce",function(e){function t(e){return e.replace(/\\/g,"\\\\").replace(/\u0008/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/'/g,"\\'").replace(/\+/g,"\\+").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\./g,"\\.").replace(/"/g,'\\"')}return function(o,n){return null!==o?(n&&(n=t(n)),o=o.replace(new RegExp("("+n+")","gi"),'<span class="highlighted">$1</span>'),e.trustAsHtml(o)):o}}]),angular.module("Common").value("redirectToUrlAfterLogin",{url:"/"}).constant("constants",{sessiontime:36e5,htmlFileToUse:".min",maxImageSize:5242880,role:{client:3,admin:2,master:1}}),angular.module("Common").directive("notifications",["$notification","$compile",function(e,t){function o(e,t,o){var n=o.notifications;n=n.split(" "),t.addClass("dr-notification-container");for(var r=0;r<n.length;r++)t.addClass(n[r])}return{restrict:"A",scope:{},template:'<div class="dr-notification-wrapper" ng-repeat="noti in queue"><div class="dr-notification-close-btn" ng-click="removeNotification(noti)"><i class="fa fa-remove"></i></div><div class="dr-notification"><div class="dr-notification-image dr-notification-type-{{noti.type}}" ng-switch on="noti.image"><i class="fa fa-{{noti.icon}}" ng-switch-when="false"></i><img ng-src="{{noti.image}}" ng-switch-default /></div><div class="dr-notification-content"><h3 class="dr-notification-title">{{noti.title}}</h3><p class="dr-notification-text">{{noti.content}}</p></div></div></div>',link:o,controller:["$scope",function(t){t.queue=e.getQueue(),t.removeNotification=function(e){t.queue.splice(t.queue.indexOf(e),1)}}]}}]).directive("positiveNumber",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,o,n){n&&(n.$parsers.push(function(e){var t="";t=e;var o=t.toString().replace(/[^0-9]+/g,"");return e!==o&&(n.$setViewValue(o),n.$render()),o}),t.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()}))}}}).directive("stringToNumber",function(){return{restrict:"A",require:"ngModel",link:function(e,t,o,n){n.$parsers.push(function(e){return""+e}),n.$formatters.push(function(e){return parseFloat(e)})}}}).directive("capitalizeFirst",[function(){return{restrict:"A",require:"ngModel",link:function(e,t,o,n){function r(e){if(n.$isEmpty(e))return e;var t=i(e);return n.$viewValue!==t&&(n.$setViewValue(t),n.$render()),t}function a(e){return n.$isEmpty(e)?e:i(e)}function i(e){for(var t=e.toLowerCase().split(" "),o=0;o<t.length;o++)t[o]=s(t[o]);return t.toString().replace(/,/g," ")}function s(e){return e.substring(0,1).toUpperCase()+e.substring(1)}n.$formatters.push(a),n.$parsers.push(r)}}}]).directive("radioFocus",["$timeout",function(e){return{name:"radioFocus",restrict:"A",link:function(t,o,n){e(function(){o.find("label.radio-inline.control.control-radio").each(function(e,t){t=angular.element(t),t.attr("tabindex","0");var o=t.children().first();o.attr("tabindex","-1"),t.bind("keypress",function(){event.preventDefault(),32===event.which&&o.trigger("click").click()})})})}}}]).directive("checkboxFocus",["$timeout",function(e){return{name:"checkboxFocus",restrict:"A",link:function(t,o,n){e(function(){o.find("span.label__text").each(function(e,t){t=angular.element(t),t.attr("tabindex","0");var o=t.parent().children().first();o.attr("tabindex","-1"),t.unbind("keypress"),t.bind("keypress",function(){event.preventDefault(),32===event.which&&o.trigger("click")})})},1e3)}}}]);var _data="",fileReader=function(e,t){var o=function(e,t,o){return function(){o.$apply(function(){t.resolve(e.result)})}},n=function(e,t,o){return function(){o.$apply(function(){t.reject(e.result)})}},r=function(e,t){return function(e){t.$broadcast("fileProgress",{total:e.total,loaded:e.loaded})}},a=function(e,t){var a=new FileReader;return a.onload=o(a,e,t),a.onerror=n(a,e,t),a.onprogress=r(0,t),a};return{readAsDataUrl:function(t,o){var n=e.defer();return a(n,o).readAsDataURL(t),n.promise}}};angular.module("Common").factory("$notification",["$timeout",function(e){var t=JSON.parse(localStorage.getItem("$notifications"))||[],o=[],n={info:{duration:5e3,enabled:!0},warning:{duration:5e3,enabled:!0},error:{duration:5e3,enabled:!0},success:{duration:5e3,enabled:!0},progress:{duration:0,enabled:!0},custom:{duration:35e3,enabled:!0},details:!0,localStorage:!1,html5Mode:!1,html5DefaultIcon:"icon.png"};return{disableHtml5Mode:function(){n.html5Mode=!1},disableType:function(e){n[e].enabled=!1},enableHtml5Mode:function(){n.html5Mode=this.requestHtml5ModePermissions()},enableType:function(e){n[e].enabled=!0},getSettings:function(){return n},toggleType:function(e){n[e].enabled=!n[e].enabled},toggleHtml5Mode:function(){n.html5Mode=!n.html5Mode},getAll:function(){return t},getQueue:function(){return o},info:function(e,t,o){return this.awesomeNotify("info","info",e,t,o)},error:function(e,t,o){return this.awesomeNotify("error","remove",e,t,o)},success:function(e,t,o){return this.awesomeNotify("success","check",e,t,o)},warning:function(e,t,o){return this.awesomeNotify("warning","exclamation",e,t,o)},awesomeNotify:function(e,t,o,n,r){return this.makeNotification(e,!1,t,o,n,r)},notify:function(e,t,o,n){return this.makeNotification("custom",e,!0,t,o,n)},makeNotification:function(r,a,i,s,c,l){var u={type:r,image:a,icon:i,title:s,content:c,timestamp:+new Date,userData:l};return t.push(u),n.html5Mode?html5Notify(a,s,c,function(){},function(){}):(o.push(u),e(function(){o.splice(o.indexOf(u),1)},n[r].duration)),this.save(),u},save:function(){n.localStorage&&localStorage.setItem("$notifications",JSON.stringify(t))},restore:function(){},clear:function(){t=[],this.save()}}}]).factory("webserviceFactory",["$http","$notification","$rootScope","$location","constants","storage",function(e,t,o,n,r,a){return{httpRequest:function(r,i,s,c,l,u){a.setCookie(o.globals.currentUser.token);var d={};return d.url="/api/"+i+"?q="+(new Date).getTime(),d.method=angular.isUndefined(s)?"GET":s,angular.isDefined(s)&&(d.params=c),angular.isDefined(l)&&(d.data=l),angular.isDefined(u)&&(d.upload=u),angular.isDefined(o.globals)&&o.globals.currentUser&&(e.defaults.headers.common["x-access-token"]=o.globals.currentUser.token),e(d).then(function(e){if(angular.isString(e.data)&&1!=e.data){if(e.data.substr("loginMark"))return;return t.info("siteName","content"),!1}return"GET"!=d.method&&""!=e.data.message&&"success"===e.data.status&&(e.data.data.length>0?e.data.data[e.data.data.length-1].affectedRows:e.data.data.affectedRows)>0?t.success("Success",e.data.message):"error"===e.data.status?("Failed to authenticate token."==e.data.message&&(t.error("Error",e.data.message),r.showLoginModal()),"Unauthorized"==e.data.message?n.path("/unauthorize"):"login"===e.data.message?"/login"!==n.path()&&(t.error("Error","Session Expired"),e.data.message="Session Expired",n.path("/login")):t.error("Error",e.data.message)):"GET"==d.method&&"error"===e.data.status&&t.error("Error","Some error happened, please try again!"),e.data},function(e){var o={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",449:"Retry With",450:"Blocked by Windows Parental Controls",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"};"No token provided."==e.data.message?(a.removeAllSession(),n.path("/login")):(t.error(o[e.status],"An error occured while processing your request."),401==e.status&&r.showLoginModal())})}}}]).factory("fileReader",["$q","$log",fileReader]).factory("storage",["$window","$cookies","constants",function(e,t,o){function n(){return new Date(Date.now()+o.sessiontime)}var r=o.sessiontime;return{setStorage:function(o){t.put("token",o.currentUser.token,{expires:n(),maxAge:r});var a=angular.copy(o);delete a.currentUser.token,e.localStorage?e.localStorage.setItem("globals",btoa(JSON.stringify(a))):t.put("globals",btoa(JSON.stringify(a)),{expires:n(),maxAge:r})},setCookie:function(e){t.put("token",e,{expires:n(),maxAge:r})},setSession:function(o,a){e.localStorage?e.localStorage.setItem(o,btoa(a)):t.put(o,btoa(a),{expires:n(),maxAge:r})},getSessionValue:function(o){if(e.localStorage){var n=e.localStorage.getItem(o);return n?atob(n):"{}"}var n=t.get(o);return n?atob(n):"{}"},getCookieValue:function(e){return t.get(e)||""},removeSessionValue:function(o){e.localStorage?e.localStorage.removeItem(o):t.remove(o)},removeAllSession:function(){if(e.localStorage)e.localStorage.clear();else{var o=t.getAll();angular.forEach(o,function(e,o){t.remove(o)})}}}}]),angular.module("Authentication").factory("AuthenticationService",["Base64","$http","$cookies","$rootScope","$timeout","$location","redirectToUrlAfterLogin","constants","storage",function(e,t,o,n,r,a,i,s,c){var l={};return l.getYear=function(e){t.get("/api/getcurrentyear/").success(function(t){e(t.data.year)})},l.saveAttemptUrl=function(e){angular.isDefined(e)?i.url=e:"/login"!=a.path().toLowerCase()?i.url=a.path():i.url="/"},l.redirectToAttemptedUrl=function(){a.path(i.url)},l.Login=function(e,o,n){c.removeSessionValue("searchData"),t.defaults.headers.common.Authorization="Basic",t.post("authenticate",{username:e,password:o}).success(function(e){"success"!=e.status?n(e):e.data.token?(t.defaults.headers.common["x-access-token"]=e.data.token,n(e)):n(e)})},l.adminAuth=function(e,o){t.defaults.headers.common.Authorization="Basic",t.post("api/authadmin",{id:e}).success(function(e){o("success"!=e.status||null==e.data.user.center?e:e)})},l.parentSignUp=function(e,o){t.defaults.headers.common.Authorization="Basic",t.post("/userregistration",e).success(function(e){o(e)})},l.Reset=function(e,o){t.post("resetpassword",{username:e}).success(function(e){"success"!=e.status&&(e.message="Username or password is incorrect"),o(e)})},l.SetCredentials=function(o,r,a,i){var s=e.encode(o+":"+r);n.globals={currentUser:{username:o,authdata:s,token:i.data.token,user_type_id:i.data.user.user_type_id,pic_name:"useruploads/"+i.data.user.user_id+"/profilepic.jpg?"+Math.random(),fullname:a,userid:i.data.user.user_id,status:i.data.user.status,is_eulaaccepted:i.data.user.is_eulaaccepted,last_login:i.data.user.last_login}},t.defaults.headers.common.Authorization="Basic "+s,t.defaults.headers.common["x-access-token"]=i.token,c.setStorage(n.globals)},l.ClearCredentials=function(){n.globals={},n.isCssLoaded=!1,c.removeAllSession(),t.defaults.headers.common.Authorization="Basic "},l.logoutuser=function(){t.get("api/logoutuser").success(function(e){})},l}]).factory("Base64",function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t){var o,n,r,a,i,s="",c="",l="",u=0;do{o=t.charCodeAt(u++),n=t.charCodeAt(u++),c=t.charCodeAt(u++),r=o>>2,a=(3&o)<<4|n>>4,i=(15&n)<<2|c>>6,l=63&c,isNaN(n)?i=l=64:isNaN(c)&&(l=64),s=s+e.charAt(r)+e.charAt(a)+e.charAt(i)+e.charAt(l),o=n=c="",r=a=i=l=""}while(u<t.length);return s},decode:function(t){var o,n,r,a,i,s="",c="",l="",u=0;/[^A-Za-z0-9\+\/\=]/g.exec(t)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{r=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),i=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),o=r<<2|a>>4,n=(15&a)<<4|i>>2,c=(3&i)<<6|l,s+=String.fromCharCode(o),64!=i&&(s+=String.fromCharCode(n)),64!=l&&(s+=String.fromCharCode(c)),o=n=c="",r=a=i=l=""}while(u<t.length);return s}}}),angular.module("Authentication").controller("LoginController",["$scope","constants","$location","AuthenticationService","$route","$http","$notification","$uibModal","webserviceFactory","storage","$rootScope","$interval",function(e,t,o,n,r,a,i,s,c,l,u,d){t.role;if(u.is_eulaaccepted=1,e.fromSignup=1,n.ClearCredentials(),n.getYear(function(t){e.currentYear=t,l.setSession("currentYear",t)}),angular.isDefined(r.current.params.user)){var f=r.current.params.user;f=f.split(","),e.updatepasswordform={},e.updatepasswordform.email=f[0],e.updatepasswordform.passtoken=f[1]}var m=0;e.calculateLoginCount=function(){if((m+=1)>=3){angular.element("div#googlecaptcha").remove();angular.element("div#captcha").html("<div id='googlecaptcha' style='height:60px'></div>"),onloadCallback()}},e.login=function(){e.error=!1,e.formValidation=!0,e.fromSignup&&e.form.$invalid?e.error=" Email address and password are required":n.Login(e.username,e.password,function(t){if(e.dataLoading=!0,u.response=t,"success"===t.status)var o=d(function(){angular.element("#buttonlogin").length>0&&(d.cancel(o),n.SetCredentials(e.username,e.password,u.response.data.user.fullname,u.response),1===t.data.user.is_eulaaccepted?e.redirectUser():u.is_eulaaccepted=0)},300);else e.calculateLoginCount(),e.error=t.message;e.dataLoading=!1})},e.redirectUser=function(){n.saveAttemptUrl("/"),n.redirectToAttemptedUrl(),delete u.response,delete u.is_eulaaccepted,delete e.fromSignup},e.logout=function(){n.ClearCredentials(),o.path("#app/login")},e.acceptEula=function(){c.httpRequest(e,"accepteula","GET",[],{}).then(function(t){"success"==t.status&&(u.globals.currentUser.is_eulaaccepted=1===t.data,l.setStorage(u.globals),e.redirectUser())})},e.updatepassword=function(t){e.error="",e.success="";var n="Password updated successfully, please login.";t.$valid&&e.updatepasswordform.password===e.updatepasswordform.cpassword?(e.dataLoading=!0,a.post("updatepassword",e.updatepasswordform).success(function(t){"success"!=t.status?(i.error("Error",t.message),e.error=t.message,e.formValidation=!1):(i.success("Success",n),e.success=n,e.formValidation=!1,o.path("/login"))})):angular.forEach(t.$error,function(e){angular.forEach(e,function(e){e.$setTouched()})})},e.forgotpwd=function(){e.error="",e.activeModel=s.open({templateUrl:"/modules/authentication/views/forgetpassword"+t.htmlFileToUse+".html",scope:e})},e.cancel=function(){e.activeModel.dismiss("cancel")},e.resetpassword=function(){e.error="",e.success="",null==e.email?i.error("Error","Invalid Email"):n.Reset(e.email,function(t){"success"==t.status&&t.data.affectedRows>0?e.success="Please check your email for login instructions.":(e.error=t.message||"User not found",e.formValidation=!1)})},e.callFormFunc=function(t){e.error="",t.$valid&&e.signUpData.password===e.signUpData.password_c?(e.dataLoading=!0,n.parentSignUp(e.signUpData,function(t){"success"!==t.status?(e.error=t.message,e.dataLoading=!1):(i.success("Success","User registered successfully."),o.path("/"))})):(e.error="",angular.forEach(t.$error,function(e){angular.forEach(e,function(e){e.$setTouched()})}))}}]),angular.module("Home").controller("FooterController",["$scope","$rootScope","storage",function(e,t,o){e.display=!1,e.$on("$routeChangeSuccess",function(){t.globals.currentUser?(e.currentYear=o.getSessionValue("currentYear"),e.display=!0):e.display=!1}),e.scrollToTop=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}]).controller("HomeController",["$scope","$http","$filter","$rootScope","$route","init","$timeout","$interval","$uibModal","myService","$notification","$location","webserviceFactory","constants","$routeParams","$anchorScroll","$sce","storage",function(e,t,o,n,r,a,i,s,c,l,u,d,f,m,p,g,h,v){}]),angular.module("Home").factory("myService",function(){return{imageFolder:"/compress/"}}),angular.module("DynamicMenu",["Home"]).controller("DynamicMenuController",["$route","$rootScope","$scope","$location","$cookies","myService","AuthenticationService","webserviceFactory","constants","$uibModal","$timeout","storage","$compile","$notification",function(e,t,o,n,r,a,i,s,c,l,u,d,f,m){t.$on("$locationChangeSuccess",function(){o.checkRoute()}),o.checkRoute=function(){t.globals=JSON.parse(d.getSessionValue("globals")),t.globals.currentUser&&(t.globals.currentUser.token=d.getCookieValue("token")),o.currentUser=t.globals.currentUser,o.display=!1,t.globals.currentUser&&(o.logo="default",o.display=!0);var e=n.path().split("/");o.currenttab=e[1],u(function(){t.routeLoader=!1},200)},o.logout=function(){i.ClearCredentials(),i.saveAttemptUrl("/"),i.logoutuser()},o.cancel=function(){o.activeModel&&o.activeModel.dismiss("cancel")},o.checkRoute()}]).directive("navigationBar",["constants",function(e){return{name:"navigationBar",scope:{navigationDetail:"="},restrict:"A",templateUrl:"modules/dynamic-menu/views/dynamic-menu"+e.htmlFileToUse+".html",replace:!0}}]),jQuery(document).ready(function(){$("#menu ul > li > a + div").each(function(){var e=$("#menu").offset(),t=$(this).parent().offset(),o=t.left+$(this).outerWidth()-(e.left+$("#menu").outerWidth());o>0&&$(this).css("margin-left","-"+(o+5)+"px")}),$("body").on("click","#search-header",function(e){$(".header-search-box").toggle(),e.preventDefault()}),$("body").on("click","#notification-header",function(e){$(".notification-menu").toggle(),e.preventDefault()}),$("body").on("click","#muserlogout",function(e){$("#minicart-menu").toggle(),e.preventDefault()}),$(document).click(function(e){$(e.target).parent().hasClass("menu-notification")||$(e.target).parent().hasClass("fa fa-bell")||$(e.target).parent().hasClass("morebutton")||$(e.target).parent().parent().hasClass("notification-ago")||$(e.target).parent().hasClass("notification-ago")||$(".notification-menu").hide(),$("#minicart-menu").hide()}),$("body").on("click",".mobile-search-menu",function(e){$(".header-search-box").toggle(),e.preventDefault()}),$("body").on("click","#userlogout",function(e){$(".notification-menu").hide(),$("#minicart-menu").toggle(),e.preventDefault()}),$(window).bind("scroll",function(){$(window).scrollTop()>82?($(".nav-container").addClass("fixednavbar"),$(".header-search-box").addClass("hsbScroll")):($(".nav-container").removeClass("fixednavbar"),$(".header-search-box").removeClass("hsbScroll"))}),$(window).bind("scroll",function(){$(window).scrollTop()>120?$(".leftnavSearch").addClass("Searchscroll"):$(".leftnavSearch").removeClass("Searchscroll")}),jQuery("#back-to-top-link").hide(),jQuery(function(){jQuery(window).scroll(function(){jQuery(this).scrollTop()>100?jQuery("#back-to-top-link").fadeIn():jQuery("#back-to-top-link").fadeOut()}),jQuery("#back-to-top-link").click(function(){return document.body.scrollTop=0,document.documentElement.scrollTop=0,!1})}),$("body").on("mouseenter",".product-image img",function(){$(this).parent().parent().find(".sale-label").hide()}).on("mouseout",function(){$(this).parent().parent().find(".sale-label").show()})}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<o;){var a=t[r];if(e.call(n,a,r,t))return a;r++}}});var isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};angular.module("ServerHealthCheck").controller("ServerHealthCheckController",["$scope","$http",function(e,t){e.loggedin=!1,e.healthCheckLogin=function(){t.post("healthcheckauthenticate",{username:e.username,password:e.password}).success(function(t){t.status&&("success"===t.status?(e.loggedin=!0,e.loginError="",e.checkMysql(),e.checkMongo(),e.checkDiskSpace(),e.checkPhpServer()):e.loginError="Invalid username or password")})},e.checkMysql=function(){t.post("checkmysql",{username:e.username,password:e.password}).success(function(t){t.status&&("success"===t.status?e.mysqlStatus="Connected":"Unauthorized"===t.message?e.error="You are not allowed to perform this action":e.mysqlStatus="Not Connected")})},e.checkMongo=function(){t.post("checkmongo",{username:e.username,password:e.password}).success(function(t){t.status&&("success"===t.status?e.mongoStatus="Connected":"Unauthorized"===t.message?e.error="You are not allowed to perform this action":e.mongoStatus="Not Connected")})},e.checkDiskSpace=function(){t.post("checkspace",{username:e.username,password:e.password}).success(function(t){"success"===t.status?e.diskSpace=t.data.data:"Unauthorized"===t.message?e.error="You are not allowed to perform this action":e.diskSpaceError="Not calculated"})}}]);